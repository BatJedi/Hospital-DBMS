{% extends "dbms_app/layout.html" %}

{% block title %}
  Record New Diagnosis
{% endblock %}

{% block navlist %}

  <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="retrieve">Retrieve Diagnosis Reports</a>
          </li>
  </ul>

{% endblock%}

{% block body %}
  <form method="POST">
    {% csrf_token %}
    
    Patient ID:<br/>
    <input type="number" name="pat_id" min="1" step="1" required><br/>

    Doctor ID:<br/>
    <input type="number" name="doc_id" min="1" step="1" required><br/>

    Test IDs ( multiple IDs should be separated by pipe symbol - | ):<br/>
    <input type="text" name="test_ids" required><br/>

    Test Results (in the same order as respective IDs, separated by pipe symbol - | ):<br/>
     <input type="text" name="test_res" required><br/>
    
    Final Result of Diagnosis:<br/>
    <input type="text" name="final_res" required><br/>

    <br/>
    <input type="submit" value="Submit"><br/>
    
  </form>

  <br/><br/>
  {% for result in results %}
      <p>{{result}}</p>
  {% endfor %}

  <br/>
  {% for diag_id in diag_ids %}
      <form action="retrieve" method="POST">
	{% csrf_token %}
	<input type="hidden" name="diag_id" value={{diag_id}}>
	<input type="submit" value="View Report"/>
      </form>
  {% endfor %}

  
      
{% endblock %}
